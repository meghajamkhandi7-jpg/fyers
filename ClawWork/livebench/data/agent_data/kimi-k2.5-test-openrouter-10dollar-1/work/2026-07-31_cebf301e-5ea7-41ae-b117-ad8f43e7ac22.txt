I have created a comprehensive technical design document for the CleanTech startup's customer portal. The document covers all requested areas:

**Document Overview:**
- **Purpose**: Replace the current PDF-by-email workflow with a modern customer-facing portal
- **Goals**: Enable self-service proposal viewing, lay groundwork for future contract signing and payment features
- **Scope**: First version focuses on TOTP authentication, proposal viewing, and in-browser PDF export within a 6-week timeline

**Key Technical Decisions Documented:**
1. **Repository Strategy**: Recommend monorepo approach to share types, utilities, and components with existing sales admin portal
2. **React Framework**: Next.js 14+ with App Router for SSR/SSG benefits, API routes, and built-in optimizations
3. **Authentication**: TOTP-based (speakeasy library) with session cookies (24hr), designed for future OAuth extension
4. **Database**: Reuse existing PostgreSQL with new `customer_portal_access` table linking leads to proposals
5. **Object Storage**: S3-compatible storage for PDF assets with pre-signed URLs
6. **Integration Point**: New REST API endpoints in existing Express server with JWT service-to-service auth
7. **Infrastructure**: Terraform for IaC, ECS Fargate for API containers, GitHub Actions for CI/CD
8. **Responsive Design**: Mobile-first approach (50% mobile users expected)

**Open Questions Identified:**
- S3 bucket provisioning and access patterns
- CDN strategy for static assets
- Exact mobile browser support requirements
- Load testing expectations
- Backup/DR requirements for customer data

The document is structured for immediate use in creating implementation tickets and as a basis for markdown documentation in the repository.