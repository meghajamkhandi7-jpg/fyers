# OverpassQL Query for I-40 Route Analysis: Albuquerque to Oklahoma City

## Overview
This document provides an OverpassQL query to extract Interstate 40 (I-40) data between Albuquerque, New Mexico and Oklahoma City, Oklahoma from OpenStreetMap. The extracted dataset includes all way relations, nodes, and relevant metadata needed for autonomous freight routing analysis focusing on speed limits and lane availability.

## OverpassQL Query

```overpassql
[out:json][timeout:600];
// Define the bounding box for the route from Albuquerque to Oklahoma City
// Approximate coordinates: Albuquerque (~35.0844°N, 106.6504°W) to Oklahoma City (~35.4676°N, 97.5164°W)
// Extended bounding box to ensure complete coverage
(
  // Get I-40 highway ways within the bounding box
  way["highway"]["ref"="I 40"](34.5,-107.5,36.0,-97.0);
  
  // Also get any relation that contains I-40 segments
  relation["route"="road"]["ref"="I 40"](34.5,-107.5,36.0,-97.0);
  
  // Get all nodes that are part of these ways
  node(w);
  
  // Get all nodes that are part of these relations
  node(r);
);

// Recurse down to get all nodes for ways and relations
out body;
>;
out skel qt;
```

## How to Use This Query

### Step 1: Access Overpass API
1. Go to the Overpass Turbo web interface at [https://overpass-turbo.eu/](https://overpass-turbo.eu/)
2. Clear any existing query in the editor
3. Paste the OverpassQL query above into the query window

### Step 2: Execute and Export Data
1. Click the "Run" button to execute the query
2. Wait for the results to load (this may take several minutes due to the large geographic area)
3. To export the data:
   - Click "Export" in the top menu
   - Select "Data" → "JSON" to download the raw OSM data
   - Save the file as `i40_abq_okc.json`

### Step 3: Data Processing for Analysis
The exported JSON contains all the necessary elements for speed and lane analysis:

#### Speed Limit Analysis
- Look for the `maxspeed` tag on way elements
- Common values include:
  - `maxspeed=65` (65 mph)
  - `maxspeed=70` (70 mph) 
  - `maxspeed=75` (75 mph)
  - `maxspeed=variable` (variable speed limits)
- Note: Absence of `maxspeed` tag typically indicates default state speed limits

#### Lane Availability Analysis
- Look for the `lanes` tag on way elements
- Values indicate total number of lanes (e.g., `lanes=4` means 2 lanes each direction)
- Additional lane-specific tags to consider:
  - `lanes:forward` - lanes in the forward direction
  - `lanes:backward` - lanes in the backward direction
  - `hov:lanes` - high occupancy vehicle lane information
  - `turn:lanes` - turn lane information at intersections

### Step 4: Route Optimization Considerations
For autonomous freight routing, pay special attention to:

1. **Construction Zones**: Look for `construction` or `highway=construction` tags
2. **Weight Restrictions**: Check for `maxweight` tags that might affect freight trucks
3. **Hazardous Material Routes**: Some segments may have hazmat restrictions
4. **Toll Roads**: Identify `toll=yes` segments for cost calculations
5. **Rest Areas**: Look for `amenity=rest_area` nodes for planning stops

### Step 5: Validation and Quality Assurance
- Cross-reference extracted data with official state DOT information
- Validate speed limits against current regulations
- Check for recent updates in OSM that might affect routing decisions

## Technical Notes

- **Query Timeout**: The timeout is set to 600 seconds (10 minutes) to handle the large dataset
- **Bounding Box**: The coordinates cover a slightly larger area than the direct route to ensure complete I-40 coverage
- **Data Completeness**: OSM data quality varies by region; verify critical routing information with official sources
- **Update Frequency**: OSM data is continuously updated; consider the timestamp of your export for time-sensitive applications

## Alternative Query for Specific Segments
If you need more granular control, you can break the route into smaller segments and run multiple queries with tighter bounding boxes to reduce processing time and improve reliability.

This dataset provides the foundation for sophisticated autonomous freight routing algorithms that can optimize for speed, safety, and regulatory compliance across the I-40 corridor between Albuquerque and Oklahoma City.